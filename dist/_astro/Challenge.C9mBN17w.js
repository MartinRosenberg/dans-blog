import{j as e}from"./jsx-runtime.B6Q2Q8rY.js";import{r as t}from"./index.caxmlYbZ.js";import{Q as f,C as M,a as R,B as S}from"./react-icons.esm.DasbB76T.js";/* empty css                       */import{c as E}from"./index.BgZf5yFv.js";import{s as I}from"./pathHelpers.DmToPstD.js";import{c as L}from"./createLucideIcon.BSodZh_J.js";/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=L("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),H=t.createContext({answers:[],setAnswers:()=>{},currentChallenge:0,setCurrentChallenge:()=>{},totalQuestions:0,setTotalQuestions:()=>{},correctAnswers:0,setCorrectAnswers:()=>{}}),T=l=>e.jsxs("svg",{style:{width:"2.5rem",height:"2.5rem"},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...l,children:[e.jsx("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}),e.jsx("path",{d:"M12.5 2H2.5C2.22386 2 2 2.22386 2 2.5V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V2.5C13 2.22386 12.7761 2 12.5 2ZM2.5 1C1.67157 1 1 1.67157 1 2.5V12.5C1 13.3284 1.67157 14 2.5 14H12.5C13.3284 14 14 13.3284 14 12.5V2.5C14 1.67157 13.3284 1 12.5 1H2.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})]});function O({children:l,title:h,question:p,options:w,explanation:C}){const{setTotalQuestions:j,setCorrectAnswers:v}=t.useContext(H),a=t.useRef(null),[c,r]=t.useState("untouched"),[o,i]=t.useState(void 0),[u,x]=t.useState(!1),[d,g]=t.useState(C),N=()=>{const s=document.querySelectorAll("main .challenge"),n=document.querySelectorAll("main .challenge.correct");j(s?.length),v(n?.length)},A=()=>{i(void 0),r("untouched"),x(!1)},k=(s,n)=>{const m=window?.posthog;m&&m.capture(s,n)},y=s=>{s.isAnswer?(i(!0),r("correct pulse")):(i(!1),r("incorrect shake")),k(s.isAnswer?"Correct Answer":"Incorrect Answer",s),setTimeout(N,200)};return t.useEffect(()=>{const s=c.includes("shake")||c.includes("pulse");if(c&&s){const[n]=c.split(" ");setTimeout(()=>{r(n)},1e3)}},[c]),t.useEffect(()=>{if(a.current){const s=a.current.querySelector(".explanation")?.innerHTML;s&&g(s)}},[d]),C||="",e.jsxs("div",{className:"challenge "+c,ref:a,children:[e.jsxs("h2",{className:"title",id:I(h),children:[o===void 0&&e.jsx(f,{className:"icon"}),o&&e.jsx(M,{className:"icon"}),o===!1&&e.jsx(R,{className:"icon"}),h]}),e.jsx("div",{className:"question",children:p||l}),e.jsx("section",{className:"options",children:w.map(s=>{const n=o&&s.isAnswer;return e.jsxs("a",{className:E("option",{"correctly-answered":n}),onClick:()=>!o&&y(s),children:[n?e.jsx(T,{className:"icon"}):e.jsx(S,{className:"icon"}),e.jsx("label",{children:s.text})]},s.text)})}),e.jsxs("div",{className:"toolbar",children:[e.jsxs("button",{className:"btn btn-reset",onClick:()=>A(),children:[e.jsx(b,{className:"icon"}),e.jsx("div",{children:"Reset"})]}),e.jsxs("button",{className:"btn btn-hint",onClick:()=>x(!u),children:[e.jsx(f,{className:"icon"}),e.jsxs("div",{children:[u?"Hide":"Show"," Explanation"]})]})]}),d&&e.jsx("div",{className:"explanation",children:u&&e.jsx("p",{dangerouslySetInnerHTML:{__html:d}})})]})}export{O as default};
