{"version":3,"sources":["webpack:///path---docker-server-setup-notes-7835915c75ce6ef2f16a.js","webpack:///./.cache/json/docker-server-setup-notes.json"],"names":["webpackJsonp","1272","module","exports","data","post","id","html","wordCount","paragraphs","sentences","words","fields","slug","prefix","frontmatter","title","subTitle","category","relativePath","tags","date","modified","cover","childImageSharp","resolutions","width","height","src","srcSet","srcWebp","srcSetWebp","author","footnote","site","siteMetadata","facebook","appId","allTags","group","fieldValue","totalCount","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,KACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,GAAA,oIAAAC,KAAA,u+0BAAkg0BC,WAAuxCC,WAAA,GAAAC,UAAA,GAAAC,MAAA,KAA2CC,QAAWC,KAAA,8BAAAC,OAAA,cAA2DC,aAAgBC,MAAA,sBAAAC,SAAA,4CAAAC,SAAA,SAAAC,aAAA,gEAAAC,MAAA,gGAAAC,KAAA,2BAAAC,SAAA,2BAAAC,OAAiXC,iBAAmBC,aAAeC,MAAA,IAAAC,OAAA,IAAAC,IAAA,mFAAAC,OAAA,0VAAAC,QAAA,oFAAAC,WAAA,mWAAk6BC,QAAW1B,GAAA,+FAAAC,KAAA,s2CAAg/C0B,UAAa3B,GAAA,iGAAAC,KAAA,kJAAgQ2B,MAASC,cAAgBC,UAAYC,MAAA,MAAaC,SAAYC,QAAUC,WAAA,KAAAC,WAAA,IAAmCD,WAAA,sBAAAC,WAAA,IAAoDD,WAAA,YAAAC,WAAA,IAA0CD,WAAA,WAAAC,WAAA,IAAyCD,WAAA,eAAAC,WAAA,IAA6CD,WAAA,0BAAAC,WAAA,IAAwDD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,cAAAC,WAAA,IAA4CD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,aAAAC,WAAA,IAA2CD,WAAA,cAAAC,WAAA,IAA4CD,WAAA,YAAAC,WAAA,IAA0CD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,wBAAAC,WAAA,IAAsDD,WAAA,cAAAC,WAAA,IAA4CD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,OAAAC,WAAA,IAAqCD,WAAA,aAAAC,WAAA,IAA2CD,WAAA,YAAAC,WAAA,IAA0CD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,cAAAC,WAAA,IAA4CD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,gBAAAC,WAAA,IAA8CD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,MAAAC,WAAA,IAAoCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,gBAAAC,WAAA,IAA8CD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,mBAAAC,WAAA,IAAiDD,WAAA,KAAAC,WAAA,IAAmCD,WAAA,sBAAAC,WAAA,IAAoDD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,KAAAC,WAAA;AAAmCD,WAAA,aAAAC,WAAA,KAA4CD,WAAA,kBAAAC,WAAA,IAAgDD,WAAA,YAAAC,WAAA,IAA0CD,WAAA,MAAAC,WAAA,IAAoCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,eAAAC,WAAA,IAA6CD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,aAAAC,WAAA,IAA2CD,WAAA,WAAAC,WAAA,IAAyCD,WAAA,cAAAC,WAAA,IAA4CD,WAAA,uBAAAC,WAAA,IAAqDD,WAAA,WAAAC,WAAA,IAAyCD,WAAA,cAAAC,WAAA,KAA6CD,WAAA,WAAAC,WAAA,IAAyCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,OAAAC,WAAA,IAAqCD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,iBAAAC,WAAA,IAA+CD,WAAA,YAAAC,WAAA,IAA0CD,WAAA,OAAAC,WAAA,IAAqCD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,WAAAC,WAAA,IAAyCD,WAAA,oBAAAC,WAAA,IAAkDD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,UAAAC,WAAA,IAAwCD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,eAAAC,WAAA,IAA6CD,WAAA,YAAAC,WAAA,IAA0CD,WAAA,cAAAC,WAAA,IAA4CD,WAAA,MAAAC,WAAA,IAAoCD,WAAA,QAAAC,WAAA,IAAsCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,SAAAC,WAAA,IAAuCD,WAAA,cAAAC,WAAA,MAA6CC,aAAgB7B,KAAA","file":"path---docker-server-setup-notes-7835915c75ce6ef2f16a.js","sourcesContent":["webpackJsonp([64261598274731],{\n\n/***/ 1272:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"post\":{\"id\":\"/Users/danlevy/code/oss/dans-blog/content/posts/2015-04-06--docker-server-setup-notes/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<h1 id=\\\"docker-server-setup\\\"><a href=\\\"#docker-server-setup\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Docker Server Setup</h1>\\n<h2 id=\\\"whos-this-guide-for\\\"><a href=\\\"#whos-this-guide-for\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Who’s this guide for?</h2>\\n<ul>\\n<li>Have you ever wanted to test an app with a ‘throw-away’ database?</li>\\n<li>Inherited a suspicious codebase? Prefer not sharing access to your existing database?</li>\\n<li>Work with security sensitive clients? Don’t risk cross-contamination! Use containers &#x26; control data persistance!</li>\\n<li>Can’t upgrade your dev environment to the latest database version because your legacy apps depend on a 12 year old version of mysql?</li>\\n</ul>\\n<blockquote>\\n<p>Never let those reasons get in your way again!</p>\\n</blockquote>\\n<h2 id=\\\"quick-links-to-1-liners\\\"><a href=\\\"#quick-links-to-1-liners\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Quick Links To 1-liners</h2>\\n<p>This article features 1-line commands to start some of the most popular databases, including:</p>\\n<section class=\\\"font-lg\\\">\\n<ul>\\n<li><a href=\\\"#postgres-server\\\"><img data-src=\\\"./postgresql.svg\\\" class=\\\"svg-icon\\\"> Postgres</a></li>\\n<li><a href=\\\"#mongodb-server\\\"><img data-src=\\\"./mongodb.svg\\\" class=\\\"svg-icon\\\"> MongoDB</a></li>\\n<li><a href=\\\"#mysql-server\\\"><img data-src=\\\"./mysql.svg\\\" class=\\\"svg-icon\\\"> MySQL</a></li>\\n<li><a href=\\\"#elasticsearch-server\\\"><img data-src=\\\"./elastic.svg\\\" class=\\\"svg-icon\\\"> ElasticSearch</a></li>\\n</ul>\\n</section>\\n<p><strong>Note:</strong> The commands work in production. However they are mainly designed to accelerate your development workflow.</p>\\n<blockquote>\\n<p><strong>Advanced Docker Users:</strong> If you are familiar with <code class=\\\"language-text\\\">docker-compose</code> you may want to convert the shell commands below for use in your <code class=\\\"language-text\\\">docker-compose.yml</code> files.</p>\\n</blockquote>\\n<p>\\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 403px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 154.83870967741936%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAAAsSAAALEgHS3X78AAAE2UlEQVRIx+2V+U9UVxTH35257DAsYx+UZYYZcKQDCMNSZKm0JBbRgLGEoM2rGqtt4hrBGBdcAIVBlkIpVhSKlLilWEVB4ihIqVTQtgZro9YFlBkWUbQxlOer3m9f+jf4gz94kpPcnNzzyeecH+7luLfx5oVTgJG4asKIShdJPPTRxMnHQJRu/oR66Qj11BE73kB8wpNIsrCBxGz6jkwr+404fDtG6L5xOUcJKR4iysoRoqgeJ8ryEfL6DR39jWoXjZFXBUa846mP5h29DbzSzY+X7XjqEcg7+4fxvqGJ/LIoLb/80yzet7CFd6of4xX7H/GOjU94rmCQV1YM8craCZ6WDfOcc0DooKt25kuVzjTlHhQlOvsYRKryF+28dKK9OkikvEH0Cf9ADMttEH2Kr4geVfdE+2/GRFrzWFRU2kS61yYqq8bk85gojyxyrprwETedCSp9FNyDY+DsGwI7dw2c+GBwqkA4qrXQf/41HGsmofjqCewrxqAoHYZD5Ti4/LtwqxyFXfUEOLMNpGwUnFvgTKu73gTZ7pWXIZapAozM3jOQcSoNC34vhhXmFbLIfVbmaB5mLuVWpih6yBS77zNliZWR7TcY2XWLedRMMHlcxhUPyX26SJtHcDRUQSbmoo8EUevBOXtj6eLl6P2xGc2tv0BVMgS3vVY4lDyEU5kNiqJBcIX3QPJvg8vtAd19F67Vj6EwW8F56E02dxmoCUtgHyanI2tuJvJW5eLXljb83t6GqiYLXMxD8KwYBjUPwKn0Ieiegf9hZNdNkLxr4NZZoNzZD1IwAE49PcbmoI1A7eY1DH3H8az1e1ytP4TuH1pwtqIc9QeOwMN8B17lsmHpIJS7/wItuANFgQzc8QfIlqsgOV3gVrWAW2uRgYZYm0o2PFeeyzB4CtcOlaPzQBNO52/D0Zy1aKs9iIgdZ8HtvA67rZegXNEIskZu3twngzqgWH0GivUWEDm5dfI99Yw4mzokDl01W9mznxpw7/xxtBeXoHG2HyzmPPx8sB4l2wqgT8qGZ2IW3IyJUMemw2HBVnAL8sEtrQO3vh3cxg6QlUdkYMgsm3doPK7U7WR/dzSis9iMk2l63N+UhMt1+9FSZMaxHXlYpXFBlVzfkxqCj/x8EB4xH9roRdCk5mBG2gao5mwBt7hWBhrjbf4RSbjeVMRePDiH261FuFuYDnQ3wLK3FMfWfImGLz7DqYUBmGzajqd1OdiYbER0aBb85VUlmDKwInER/EOzZVt5FdOMCQ+0Ucns1lHzi/HTB6Sn3YelR611ktR3UjqXu17qXZcm9ayeI/1zeIvEelsldDVIVZmzpfjwRZLaN1zS+cVJi5NXSNqgWZIiMlPipoUmThniU/H8/D5grBNTI12QFwkMdWOisxq4chS4I9ce9AIDfYD1ElpXfoKEsHQEzvwYwZHzkTV7GeZnZOPdGSbZMCwpc/r7KUuGz1QKbLxLeG7tFP693CxM3WwX2OMe4VFPm8BuXBRe9VuEl/0dAm5ahJPLFggRwXGCDBR0cfOE1JgMYe68bMHHOEt4/c+XbKicHptCbacrKUY76QtrJ33Vd4JO/nmWTt6/QEcuNlNct1DWb6Ev+y9Q2ZCeWJJBI4MTqDY0hQaa5tC02IV0bloW9Q6JoW+/rLfxJsR/paOGD2jLsoEAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image lazyload\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"credit: markus-spiske-193031-cropped-2.png\\\"\\n        title=\\\"\\\"\\n        data-src=\\\"/static/markus-spiske-193031-cropped-2-fa15df33deed4b34501a2253736d4182-219ed.png\\\"\\n        data-srcset=\\\"/static/markus-spiske-193031-cropped-2-fa15df33deed4b34501a2253736d4182-4e477.png 161w,\\n/static/markus-spiske-193031-cropped-2-fa15df33deed4b34501a2253736d4182-ea275.png 323w,\\n/static/markus-spiske-193031-cropped-2-fa15df33deed4b34501a2253736d4182-219ed.png 403w\\\"\\n        sizes=\\\"(max-width: 403px) 100vw, 403px\\\"\\n      />\\n    </span>\\n  </span>\\n  </p>\\n<h2 id=\\\"postgres-server\\\"><a href=\\\"#postgres-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Postgres Server</h2>\\n<h5 id=\\\"start-a-container-naming-it-pg-server\\\"><a href=\\\"#start-a-container-naming-it-pg-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Start a container, naming it <code class=\\\"language-text\\\">pg-server</code></h5>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\"># Store db files on a local path, outside the container\\nmkdir -p $HOME/.postgres-data\\n\\ndocker run \\\\\\n  --name pg-server \\\\\\n  -v $HOME/.postgres-data:/var/lib/postgresql/data \\\\\\n  -p 127.0.0.1:5432:5432 \\\\\\n  --restart on-failure:5 \\\\\\n  --detach \\\\\\n  --shm-size=256mb \\\\\\n  postgres:12-alpine \\\\\\n  postgres -c &#39;listen_addresses=*&#39; \\\\\\n    -c &#39;password_encryption=scram-sha-256&#39; \\\\\\n    -c &#39;shared_memory_type=sysv&#39; \\\\\\n    -c &#39;shared_buffers=256MB&#39; \\\\\\n    -c &#39;max_connections=200&#39;</code></pre>\\n      </div>\\n<blockquote>\\n<p>Adjust the command line options as needed. (The postgres daemon arguments start following the docker image name <code class=\\\"language-text\\\">postgres:12-alpine</code>. See <code class=\\\"language-text\\\">postgres -c &#39;listen_addresses=*&#39;...</code>)</p>\\n</blockquote>\\n<h5 id=\\\"access-the-psql-prompt-as-postgres-user\\\"><a href=\\\"#access-the-psql-prompt-as-postgres-user\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Access the <code class=\\\"language-text\\\">psql</code> prompt as postgres user</h5>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker exec --user postgres -it pg-server psql</code></pre>\\n      </div>\\n<h5 id=\\\"access-the-containers-shell-as-root\\\"><a href=\\\"#access-the-containers-shell-as-root\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Access the container’s shell as root</h5>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker exec -it pg-server bash</code></pre>\\n      </div>\\n<p><strong>Note:</strong> The above command uses the official Alpine Linux base images. <em>It is not your typical debian environment.</em></p>\\n<blockquote>\\n<p>To use the debian/ubuntu base image, change <code class=\\\"language-text\\\">postgres:12-alpine</code> to <code class=\\\"language-text\\\">postgres:12</code>.</p>\\n</blockquote>\\n<h2 id=\\\"mongodb-server\\\"><a href=\\\"#mongodb-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>MongoDB Server</h2>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">mkdir -p $HOME/.mongodb/data\\n\\ndocker run -d \\\\\\n  --name mongodb \\\\\\n  --restart on-failure:5 \\\\\\n  -p 127.0.0.1:27017:27017 \\\\\\n  -v $HOME/.mongodb:/data \\\\\\n  mongo:4 bash -c &#39;mongod --bind_ip 0.0.0.0 --storageEngine=wiredTiger&#39;</code></pre>\\n      </div>\\n<p>Now that your server is setup, verify your data is at <code class=\\\"language-text\\\">$HOME/.mongodb</code> with:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">ls -lach $HOME/.mongodb</code></pre>\\n      </div>\\n<p>Let’s connect to the server with <code class=\\\"language-text\\\">mongo</code> CLI tool. (If you don’t have it installed see below.)</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">#&gt; Using default arguments:\\nmongo</code></pre>\\n      </div>\\n<p>And you should see something like this:</p>\\n<p>\\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 645px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 39.77695167286245%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhElEQVQoz0WSV09CURCEj6I+qKCIYqMJUhWw0AWkg3SkiMbE+P9/xLiz3ujDZu/J5s5+M+eY5GSNSH+O8MsrLut9HBYacBab2H2sYPM2D1uy8N+l2G0pq0ttyGw7XdLauSvBxIcrFQx2pgi0xkhP3+FrjhBoT3Ba7SE2WCDUnUlf6jzYnSIxWumZFR8uEe0v4K50cVLuUHCJq84E/tbot0SMggf5OsxNTjeTaCtVtCjzMInsb8mc9CaegYk+wETuYUhAIVr3Noe4ErLC+hvexlDOI42CEZDYL4SkcEosx09t7GWq2M8+63JHrgYHIYhPwZRlNSSWHuafKhzqzXAzflM7MXHCaM5rff3Znq1p3ozlzKoLmallCiX/spMcZx+65Lo30wxJExYxningKrV0CTuJOae4q9SGuRUCUt0LFcV4AbnVl+bKsDl3l7uIi5OoiF/WB0rjsbpPFnsaA4VhJIab7GKB2+yWFQqwMxNu5hNyCcVRsSXfVX0qvCReCotnPil+/wAlpQH1q1uPFAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image lazyload\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"Preview of mongo shell output\\\"\\n        title=\\\"\\\"\\n        data-src=\\\"/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-e8b1e.png\\\"\\n        data-srcset=\\\"/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-d71f9.png 161w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-68490.png 323w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-e8b1e.png 645w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-941b7.png 968w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-abcde.png 1290w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-baabe.png 1614w\\\"\\n        sizes=\\\"(max-width: 645px) 100vw, 645px\\\"\\n      />\\n    </span>\\n  </span>\\n  </p>\\n<h3 id=\\\"setup-mongo-cli-tools\\\"><a href=\\\"#setup-mongo-cli-tools\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Setup mongo CLI tools</h3>\\n<h4 id=\\\"using-brew--osx\\\"><a href=\\\"#using-brew--osx\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Using brew &#x26; OSX</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">brew tap mongodb/brew\\nbrew install mongodb-community-shell</code></pre>\\n      </div>\\n<h2 id=\\\"mysql-server\\\"><a href=\\\"#mysql-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Mysql Server</h2>\\n<blockquote>\\n<p><strong>WARNING:</strong> CHANGE THE PASSWORD IN <code class=\\\"language-text\\\">MYSQL_ROOT_PASSWORD</code> BELOW.</p>\\n</blockquote>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">mkdir -p $HOME/.mysql\\n\\ndocker run -d \\\\\\n  -v $HOME/.mysql:/var/lib/mysql \\\\\\n  -p 127.0.0.1:3306:3306 \\\\\\n  --name mysql-$USER \\\\\\n  -e MYSQL_DATABASE=$USER \\\\\\n  -e MYSQL_ROOT_HOST=&#39;172.*.*.*&#39; \\\\\\n  -e MYSQL_ROOT_PASSWORD=&#39;p@ssw0rd&#39; \\\\\\n  mysql/mysql-server:8</code></pre>\\n      </div>\\n<h2 id=\\\"elasticsearch-server\\\"><a href=\\\"#elasticsearch-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>ElasticSearch Server</h2>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">mkdir -p $HOME/.elastic\\n\\ndocker run -d \\\\\\n  --name elastic \\\\\\n  -p 127.0.0.1:9200:9200 \\\\\\n  -p 127.0.0.1:9300:9300 \\\\\\n  -v $HOME/.elastic:/data \\\\\\n  elasticsearch bash -c &#39;elasticsearch --cluster.name elastic_cluster --node.name elastic01 --path.data /data/elastic-data --path.logs /data/elastic-logs &#39;</code></pre>\\n      </div>\\n<h4 id=\\\"security-notes\\\"><a href=\\\"#security-notes\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Security Notes</h4>\\n<blockquote>\\n<p><strong>NOTE:</strong> the <code class=\\\"language-text\\\">-p 127.0.0.1:27017:27017</code>-style port option prevents access to your instance except from the docker server’s localhost network.\\nTo ‘publish’ the exposed ports, remove the local IP address prefix to allow external access: <code class=\\\"language-text\\\">-p 27017:27017</code>. <strong>Make sure you have taken necessary security precautions.</strong></p>\\n</blockquote>\\n<p><strong>Recommended:</strong> Always use a port scanning tool (like nmap/masscan) to verify your network configuration (from separate system on another network.)</p>\\n<blockquote>\\n<p>Now that you have the commands to start your database servers, the next step is to package up your application as a docker image. Part 2 continued below:</p>\\n</blockquote>\\n<h1 id=\\\"packaging-a-nodejs-web-app\\\"><a href=\\\"#packaging-a-nodejs-web-app\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Packaging a NodeJS Web App</h1>\\n<ol>\\n<li>Add a blank file named <code class=\\\"language-text\\\">Dockerfile</code> in your project root.</li>\\n<li><em>(Optional, Recommended)</em> Add a <code class=\\\"language-text\\\">.dockerignore</code> using .gitignore rules to exclude large non-essential paths. By default all project files are included.</li>\\n</ol>\\n<h3 id=\\\"create-a-dockerfile-in-your-apps-root\\\"><a href=\\\"#create-a-dockerfile-in-your-apps-root\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Create a <code class=\\\"language-text\\\">Dockerfile</code> in your apps root</h3>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"dockerfile\\\">\\n      <pre class=\\\"language-dockerfile\\\"><code class=\\\"language-dockerfile\\\"># Example for NodeJS\\nFROM node:12\\nEXPOSE [3000]\\nCOPY . /app/\\nWORKDIR /app\\nRUN apt-get update &amp;&amp; apt-get dist-upgrade -yqq\\nRUN [&quot;npm&quot;, &quot;install&quot;]\\n\\n# Overridable Command\\nCMD [&quot;npm&quot;, &quot;start&quot;]</code></pre>\\n      </div>\\n<p>It’s easier to show how to start using the Dockerfile and demonstrate the results via console (see commands below).</p>\\n<p>In terminal, <code class=\\\"language-text\\\">cd</code> to your project folder and run the following <code class=\\\"language-text\\\">build</code> command <em>everytime</em> you deploy changes - or want to change/upgrade OS or Env config)</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker build -t app-name-here .</code></pre>\\n      </div>\\n<!-- \\n#### Docker Install\\n\\nIf you don't have Docker installed, use the following command to install on Linux or macOS:\\n\\n```sh\\ncurl -sSL https://get.docker.com/ | sh\\n``` -->\\n<h3 id=\\\"key-docker-commands-reference\\\"><a href=\\\"#key-docker-commands-reference\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Key Docker Commands Reference</h3>\\n<h4 id=\\\"build-docker-image\\\"><a href=\\\"#build-docker-image\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Build Docker Image</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker build -t app-name-here .</code></pre>\\n      </div>\\n<h4 id=\\\"createrun-web-app-w-links-to-db-servers\\\"><a href=\\\"#createrun-web-app-w-links-to-db-servers\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Create/Run Web App w/ Links to DB Servers</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker run -d --name webapp01 -p 3000:3000 --link mongo:mongo --link elastic:elastic app-name-here</code></pre>\\n      </div>\\n<h4 id=\\\"run-interactively-non-daemon-in-terminal\\\"><a href=\\\"#run-interactively-non-daemon-in-terminal\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Run Interactively (non-daemon, in terminal)</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker run -it --name webapp01 -p 3000:3000 --link mongo:mongo --link elastic:elastic app-name-here bash</code></pre>\\n      </div>\\n<h4 id=\\\"delete-container-instance-or-image\\\"><a href=\\\"#delete-container-instance-or-image\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Delete Container Instance or Image</h4>\\n<blockquote>\\n<p>Important: Any data not stored on a mounted volume path will be lost!!</p>\\n</blockquote>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\"># Delete Image\\ndocker rmi -f app-name-here\\ndocker rm -f webapp01\\n# now re-run your `docker run...` from ^^^\\n# So for example, let&#39;s kill your db instances above, run: ( start with something like `docker stop {mongo,elastic}` )\\ndocker rm -f mongo elastic</code></pre>\\n      </div>\\n<!--\\n\\n## Optional Config & Monitoring Tools\\n\\n```sh\\n# Debian/BSD Requirements / Updates + monitoring tools: atop & htop\\napt-get update && apt-get install -y vim-nox git-core curl atop htop build-essential libssl-dev linux-image-amd64 linux-headers-amd64 sudo\\n\\n# OSX, Debian & RHEL: Host OS Tuning\\nsysctl -w vm.max_map_count=262144\\n\\n# Updates Profile init scripts before appending new scripts below\\nmkdir ~/backups\\ncp ~/.bash* ~/backups/\\n\\n# Debian/BSD:  Append Shell Environment Shortcuts + XTERM Colors\\ncurl -o- https://raw.githubusercontent.com/justsml/system-setup-tools/master/modules/vim-update.sh | bash\\n\\ncurl -sSL https://raw.githubusercontent.com/justsml/system-setup-tools/master/home-scripts/.bashrc >> ~/.bashrc\\ncurl -sSL https://raw.githubusercontent.com/justsml/system-setup-tools/master/home-scripts/.bash_aliases >> ~/.bash_aliases\\n\\n# Read into current shell (login steps already missed the aliases file)\\nsource ~/.bashrc\\n\\n# Docker pre reqs\\n# sudo apt-get install -y linux-image-virtual linux-image-extra-virtual\\n```\\n\\n> Only for SELinux Enabled Systems\\n\\n```sh\\n# SELinux fixes (optional)\\n# chcon -Rt svirt_sandbox_file_t /mongodb\\n# chcon -Rt svirt_sandbox_file_t /elastic\\n```\\n\\n-->\",\"wordCount\":{\"paragraphs\":53,\"sentences\":64,\"words\":505},\"fields\":{\"slug\":\"/docker-server-setup-notes/\",\"prefix\":\"2015-04-06\"},\"frontmatter\":{\"title\":\"Docker Server Setup\",\"subTitle\":\"Start Database Servers w/ single commands\",\"category\":\"docker\",\"relativePath\":\"/content/posts/2015-04-06--docker-server-setup-notes/index.md\",\"tags\":[\"devops\",\"docker\",\"server\",\"postgres\",\"mysql\",\"mongodb\",\"elasticsearch\",\"setup\",\"shell script\"],\"date\":\"2015-04-06T00:00:00.000Z\",\"modified\":\"2019-12-01T00:00:00.000Z\",\"cover\":{\"childImageSharp\":{\"resolutions\":{\"width\":220,\"height\":220,\"src\":\"/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-bc901.jpg\",\"srcSet\":\"/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-bc901.jpg 1x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-39e82.jpg 1.5x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-a8256.jpg 2x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-ef5e1.jpg 3x\",\"srcWebp\":\"/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-ec1cf.webp\",\"srcSetWebp\":\"/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-ec1cf.webp 1x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-c5012.webp 1.5x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-6ab8f.webp 2x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-f9a43.webp 3x\"}}}}},\"author\":{\"id\":\"/Users/danlevy/code/oss/dans-blog/content/parts/author.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>Dan Levy is an accomplished programmer, teacher, speaker, cat dad and writer.\\n<br /><br /></p>\\n<p>Dan’s Open Source documentation and related writing is relied on by countless developers who use the <a href=\\\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\\\">Mozilla Developer Network</a> site daily.\\n<br /><br /></p>\\n<p>His contributions span dozens of well-known projects, including <a href=\\\"https://github.com/nodejs/nodejs.org\\\">NodeJS</a>, <a href=\\\"https://github.com/moby/moby\\\">Docker</a>, <a href=\\\"https://github.com/ReactTraining/react-router/\\\">React Router</a>, <a href=\\\"https://github.com/gatsbyjs/gatsby\\\">GatsbyJS</a>, <a href=\\\"https://github.com/Angular/Angular\\\">Angular</a>, <a href=\\\"https://github.com/petkaantonov/bluebird\\\">Bluebird</a>, <a href=\\\"https://github.com/lodash/lodash\\\">Lodash</a>, <a href=\\\"https://github.com/rancher/rancher\\\">Rancher</a>, <a href=\\\"https://github.com/minio/minio\\\">Minio</a>, <a href=\\\"https://github.com/lord/slate\\\">Slate</a>, <a href=\\\"https://github.com/ReactiveX/IxJS\\\">IxJS</a>, and <a href=\\\"https://github.com/functional-promises/functional-promises\\\">Functional Promises</a>.\\n<br /><br /></p>\\n<p>Feel free to <a href=\\\"https://calendly.com/danlevy/\\\">grab a spot on Dan’s calendar</a>, or reach out via <a href=\\\"https://twitter.com/justsml/\\\">Twitter DMs</a> or <a href=\\\"/contact/\\\">the contact form</a>.</p>\"},\"footnote\":{\"id\":\"/Users/danlevy/code/oss/dans-blog/content/parts/footnote.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>Unless otherwise noted, copyright ©2014-2021 Dan Levy.</p>\\n<ul>\\n<li>Photos by <a href=\\\"https://unsplash.com\\\">unsplash.com</a></li>\\n</ul>\"},\"site\":{\"siteMetadata\":{\"facebook\":{\"appId\":\"\"}}},\"allTags\":{\"group\":[{\"fieldValue\":\"ai\",\"totalCount\":1},{\"fieldValue\":\"amazon-web-services\",\"totalCount\":1},{\"fieldValue\":\"angularjs\",\"totalCount\":2},{\"fieldValue\":\"api-keys\",\"totalCount\":2},{\"fieldValue\":\"architecture\",\"totalCount\":1},{\"fieldValue\":\"artificial intelligence\",\"totalCount\":1},{\"fieldValue\":\"async\",\"totalCount\":5},{\"fieldValue\":\"async-await\",\"totalCount\":1},{\"fieldValue\":\"await\",\"totalCount\":1},{\"fieldValue\":\"azure\",\"totalCount\":1},{\"fieldValue\":\"benchmarks\",\"totalCount\":1},{\"fieldValue\":\"boot2docker\",\"totalCount\":1},{\"fieldValue\":\"challenge\",\"totalCount\":1},{\"fieldValue\":\"cloud\",\"totalCount\":1},{\"fieldValue\":\"collaborative-culture\",\"totalCount\":1},{\"fieldValue\":\"composition\",\"totalCount\":4},{\"fieldValue\":\"culture\",\"totalCount\":1},{\"fieldValue\":\"date\",\"totalCount\":1},{\"fieldValue\":\"date class\",\"totalCount\":1},{\"fieldValue\":\"debugging\",\"totalCount\":1},{\"fieldValue\":\"design\",\"totalCount\":1},{\"fieldValue\":\"development\",\"totalCount\":2},{\"fieldValue\":\"devops\",\"totalCount\":5},{\"fieldValue\":\"digital-ocean\",\"totalCount\":1},{\"fieldValue\":\"docker\",\"totalCount\":4},{\"fieldValue\":\"dos\",\"totalCount\":1},{\"fieldValue\":\"dotenv\",\"totalCount\":1},{\"fieldValue\":\"elasticsearch\",\"totalCount\":1},{\"fieldValue\":\"errors\",\"totalCount\":2},{\"fieldValue\":\"fails\",\"totalCount\":1},{\"fieldValue\":\"functional river\",\"totalCount\":1},{\"fieldValue\":\"go\",\"totalCount\":1},{\"fieldValue\":\"google-cloud-engine\",\"totalCount\":1},{\"fieldValue\":\"gotchas\",\"totalCount\":1},{\"fieldValue\":\"growth\",\"totalCount\":1},{\"fieldValue\":\"guides\",\"totalCount\":1},{\"fieldValue\":\"haskell\",\"totalCount\":1},{\"fieldValue\":\"io\",\"totalCount\":1},{\"fieldValue\":\"javascript\",\"totalCount\":11},{\"fieldValue\":\"json-web-tokens\",\"totalCount\":1},{\"fieldValue\":\"languages\",\"totalCount\":1},{\"fieldValue\":\"lua\",\"totalCount\":1},{\"fieldValue\":\"models\",\"totalCount\":1},{\"fieldValue\":\"mongodb\",\"totalCount\":2},{\"fieldValue\":\"mysql\",\"totalCount\":1},{\"fieldValue\":\"naming\",\"totalCount\":1},{\"fieldValue\":\"nodejs\",\"totalCount\":3},{\"fieldValue\":\"opinion\",\"totalCount\":1},{\"fieldValue\":\"organization\",\"totalCount\":2},{\"fieldValue\":\"ovh.net\",\"totalCount\":1},{\"fieldValue\":\"packet.net\",\"totalCount\":1},{\"fieldValue\":\"patterns\",\"totalCount\":7},{\"fieldValue\":\"performance\",\"totalCount\":4},{\"fieldValue\":\"personal-development\",\"totalCount\":1},{\"fieldValue\":\"postgres\",\"totalCount\":1},{\"fieldValue\":\"programming\",\"totalCount\":10},{\"fieldValue\":\"promises\",\"totalCount\":8},{\"fieldValue\":\"python\",\"totalCount\":2},{\"fieldValue\":\"quiz\",\"totalCount\":2},{\"fieldValue\":\"regex\",\"totalCount\":1},{\"fieldValue\":\"remote-exploit\",\"totalCount\":1},{\"fieldValue\":\"resources\",\"totalCount\":1},{\"fieldValue\":\"rust\",\"totalCount\":1},{\"fieldValue\":\"scala\",\"totalCount\":1},{\"fieldValue\":\"scaling\",\"totalCount\":1},{\"fieldValue\":\"secrets\",\"totalCount\":2},{\"fieldValue\":\"security\",\"totalCount\":4},{\"fieldValue\":\"self-driving cars\",\"totalCount\":1},{\"fieldValue\":\"server\",\"totalCount\":1},{\"fieldValue\":\"servers\",\"totalCount\":2},{\"fieldValue\":\"setup\",\"totalCount\":1},{\"fieldValue\":\"shell script\",\"totalCount\":1},{\"fieldValue\":\"smalltalk\",\"totalCount\":1},{\"fieldValue\":\"source code\",\"totalCount\":3},{\"fieldValue\":\"ssd\",\"totalCount\":1},{\"fieldValue\":\"teams\",\"totalCount\":1},{\"fieldValue\":\"tokens\",\"totalCount\":2},{\"fieldValue\":\"tuning\",\"totalCount\":1},{\"fieldValue\":\"visualizing\",\"totalCount\":1}]}},\"pathContext\":{\"slug\":\"/docker-server-setup-notes/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---docker-server-setup-notes-7835915c75ce6ef2f16a.js","module.exports = {\"data\":{\"post\":{\"id\":\"/Users/danlevy/code/oss/dans-blog/content/posts/2015-04-06--docker-server-setup-notes/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<h1 id=\\\"docker-server-setup\\\"><a href=\\\"#docker-server-setup\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Docker Server Setup</h1>\\n<h2 id=\\\"whos-this-guide-for\\\"><a href=\\\"#whos-this-guide-for\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Who’s this guide for?</h2>\\n<ul>\\n<li>Have you ever wanted to test an app with a ‘throw-away’ database?</li>\\n<li>Inherited a suspicious codebase? Prefer not sharing access to your existing database?</li>\\n<li>Work with security sensitive clients? Don’t risk cross-contamination! Use containers &#x26; control data persistance!</li>\\n<li>Can’t upgrade your dev environment to the latest database version because your legacy apps depend on a 12 year old version of mysql?</li>\\n</ul>\\n<blockquote>\\n<p>Never let those reasons get in your way again!</p>\\n</blockquote>\\n<h2 id=\\\"quick-links-to-1-liners\\\"><a href=\\\"#quick-links-to-1-liners\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Quick Links To 1-liners</h2>\\n<p>This article features 1-line commands to start some of the most popular databases, including:</p>\\n<section class=\\\"font-lg\\\">\\n<ul>\\n<li><a href=\\\"#postgres-server\\\"><img data-src=\\\"./postgresql.svg\\\" class=\\\"svg-icon\\\"> Postgres</a></li>\\n<li><a href=\\\"#mongodb-server\\\"><img data-src=\\\"./mongodb.svg\\\" class=\\\"svg-icon\\\"> MongoDB</a></li>\\n<li><a href=\\\"#mysql-server\\\"><img data-src=\\\"./mysql.svg\\\" class=\\\"svg-icon\\\"> MySQL</a></li>\\n<li><a href=\\\"#elasticsearch-server\\\"><img data-src=\\\"./elastic.svg\\\" class=\\\"svg-icon\\\"> ElasticSearch</a></li>\\n</ul>\\n</section>\\n<p><strong>Note:</strong> The commands work in production. However they are mainly designed to accelerate your development workflow.</p>\\n<blockquote>\\n<p><strong>Advanced Docker Users:</strong> If you are familiar with <code class=\\\"language-text\\\">docker-compose</code> you may want to convert the shell commands below for use in your <code class=\\\"language-text\\\">docker-compose.yml</code> files.</p>\\n</blockquote>\\n<p>\\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 403px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 154.83870967741936%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAACXBIWXMAAAsSAAALEgHS3X78AAAE2UlEQVRIx+2V+U9UVxTH35257DAsYx+UZYYZcKQDCMNSZKm0JBbRgLGEoM2rGqtt4hrBGBdcAIVBlkIpVhSKlLilWEVB4ihIqVTQtgZro9YFlBkWUbQxlOer3m9f+jf4gz94kpPcnNzzyeecH+7luLfx5oVTgJG4asKIShdJPPTRxMnHQJRu/oR66Qj11BE73kB8wpNIsrCBxGz6jkwr+404fDtG6L5xOUcJKR4iysoRoqgeJ8ryEfL6DR39jWoXjZFXBUa846mP5h29DbzSzY+X7XjqEcg7+4fxvqGJ/LIoLb/80yzet7CFd6of4xX7H/GOjU94rmCQV1YM8craCZ6WDfOcc0DooKt25kuVzjTlHhQlOvsYRKryF+28dKK9OkikvEH0Cf9ADMttEH2Kr4geVfdE+2/GRFrzWFRU2kS61yYqq8bk85gojyxyrprwETedCSp9FNyDY+DsGwI7dw2c+GBwqkA4qrXQf/41HGsmofjqCewrxqAoHYZD5Ti4/LtwqxyFXfUEOLMNpGwUnFvgTKu73gTZ7pWXIZapAozM3jOQcSoNC34vhhXmFbLIfVbmaB5mLuVWpih6yBS77zNliZWR7TcY2XWLedRMMHlcxhUPyX26SJtHcDRUQSbmoo8EUevBOXtj6eLl6P2xGc2tv0BVMgS3vVY4lDyEU5kNiqJBcIX3QPJvg8vtAd19F67Vj6EwW8F56E02dxmoCUtgHyanI2tuJvJW5eLXljb83t6GqiYLXMxD8KwYBjUPwKn0Ieiegf9hZNdNkLxr4NZZoNzZD1IwAE49PcbmoI1A7eY1DH3H8az1e1ytP4TuH1pwtqIc9QeOwMN8B17lsmHpIJS7/wItuANFgQzc8QfIlqsgOV3gVrWAW2uRgYZYm0o2PFeeyzB4CtcOlaPzQBNO52/D0Zy1aKs9iIgdZ8HtvA67rZegXNEIskZu3twngzqgWH0GivUWEDm5dfI99Yw4mzokDl01W9mznxpw7/xxtBeXoHG2HyzmPPx8sB4l2wqgT8qGZ2IW3IyJUMemw2HBVnAL8sEtrQO3vh3cxg6QlUdkYMgsm3doPK7U7WR/dzSis9iMk2l63N+UhMt1+9FSZMaxHXlYpXFBlVzfkxqCj/x8EB4xH9roRdCk5mBG2gao5mwBt7hWBhrjbf4RSbjeVMRePDiH261FuFuYDnQ3wLK3FMfWfImGLz7DqYUBmGzajqd1OdiYbER0aBb85VUlmDKwInER/EOzZVt5FdOMCQ+0Ucns1lHzi/HTB6Sn3YelR611ktR3UjqXu17qXZcm9ayeI/1zeIvEelsldDVIVZmzpfjwRZLaN1zS+cVJi5NXSNqgWZIiMlPipoUmThniU/H8/D5grBNTI12QFwkMdWOisxq4chS4I9ce9AIDfYD1ElpXfoKEsHQEzvwYwZHzkTV7GeZnZOPdGSbZMCwpc/r7KUuGz1QKbLxLeG7tFP693CxM3WwX2OMe4VFPm8BuXBRe9VuEl/0dAm5ahJPLFggRwXGCDBR0cfOE1JgMYe68bMHHOEt4/c+XbKicHptCbacrKUY76QtrJ33Vd4JO/nmWTt6/QEcuNlNct1DWb6Ev+y9Q2ZCeWJJBI4MTqDY0hQaa5tC02IV0bloW9Q6JoW+/rLfxJsR/paOGD2jLsoEAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image lazyload\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"credit: markus-spiske-193031-cropped-2.png\\\"\\n        title=\\\"\\\"\\n        data-src=\\\"/static/markus-spiske-193031-cropped-2-fa15df33deed4b34501a2253736d4182-219ed.png\\\"\\n        data-srcset=\\\"/static/markus-spiske-193031-cropped-2-fa15df33deed4b34501a2253736d4182-4e477.png 161w,\\n/static/markus-spiske-193031-cropped-2-fa15df33deed4b34501a2253736d4182-ea275.png 323w,\\n/static/markus-spiske-193031-cropped-2-fa15df33deed4b34501a2253736d4182-219ed.png 403w\\\"\\n        sizes=\\\"(max-width: 403px) 100vw, 403px\\\"\\n      />\\n    </span>\\n  </span>\\n  </p>\\n<h2 id=\\\"postgres-server\\\"><a href=\\\"#postgres-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Postgres Server</h2>\\n<h5 id=\\\"start-a-container-naming-it-pg-server\\\"><a href=\\\"#start-a-container-naming-it-pg-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Start a container, naming it <code class=\\\"language-text\\\">pg-server</code></h5>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\"># Store db files on a local path, outside the container\\nmkdir -p $HOME/.postgres-data\\n\\ndocker run \\\\\\n  --name pg-server \\\\\\n  -v $HOME/.postgres-data:/var/lib/postgresql/data \\\\\\n  -p 127.0.0.1:5432:5432 \\\\\\n  --restart on-failure:5 \\\\\\n  --detach \\\\\\n  --shm-size=256mb \\\\\\n  postgres:12-alpine \\\\\\n  postgres -c &#39;listen_addresses=*&#39; \\\\\\n    -c &#39;password_encryption=scram-sha-256&#39; \\\\\\n    -c &#39;shared_memory_type=sysv&#39; \\\\\\n    -c &#39;shared_buffers=256MB&#39; \\\\\\n    -c &#39;max_connections=200&#39;</code></pre>\\n      </div>\\n<blockquote>\\n<p>Adjust the command line options as needed. (The postgres daemon arguments start following the docker image name <code class=\\\"language-text\\\">postgres:12-alpine</code>. See <code class=\\\"language-text\\\">postgres -c &#39;listen_addresses=*&#39;...</code>)</p>\\n</blockquote>\\n<h5 id=\\\"access-the-psql-prompt-as-postgres-user\\\"><a href=\\\"#access-the-psql-prompt-as-postgres-user\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Access the <code class=\\\"language-text\\\">psql</code> prompt as postgres user</h5>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker exec --user postgres -it pg-server psql</code></pre>\\n      </div>\\n<h5 id=\\\"access-the-containers-shell-as-root\\\"><a href=\\\"#access-the-containers-shell-as-root\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Access the container’s shell as root</h5>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker exec -it pg-server bash</code></pre>\\n      </div>\\n<p><strong>Note:</strong> The above command uses the official Alpine Linux base images. <em>It is not your typical debian environment.</em></p>\\n<blockquote>\\n<p>To use the debian/ubuntu base image, change <code class=\\\"language-text\\\">postgres:12-alpine</code> to <code class=\\\"language-text\\\">postgres:12</code>.</p>\\n</blockquote>\\n<h2 id=\\\"mongodb-server\\\"><a href=\\\"#mongodb-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>MongoDB Server</h2>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">mkdir -p $HOME/.mongodb/data\\n\\ndocker run -d \\\\\\n  --name mongodb \\\\\\n  --restart on-failure:5 \\\\\\n  -p 127.0.0.1:27017:27017 \\\\\\n  -v $HOME/.mongodb:/data \\\\\\n  mongo:4 bash -c &#39;mongod --bind_ip 0.0.0.0 --storageEngine=wiredTiger&#39;</code></pre>\\n      </div>\\n<p>Now that your server is setup, verify your data is at <code class=\\\"language-text\\\">$HOME/.mongodb</code> with:</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">ls -lach $HOME/.mongodb</code></pre>\\n      </div>\\n<p>Let’s connect to the server with <code class=\\\"language-text\\\">mongo</code> CLI tool. (If you don’t have it installed see below.)</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">#&gt; Using default arguments:\\nmongo</code></pre>\\n      </div>\\n<p>And you should see something like this:</p>\\n<p>\\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 645px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 39.77695167286245%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhElEQVQoz0WSV09CURCEj6I+qKCIYqMJUhWw0AWkg3SkiMbE+P9/xLiz3ujDZu/J5s5+M+eY5GSNSH+O8MsrLut9HBYacBab2H2sYPM2D1uy8N+l2G0pq0ttyGw7XdLauSvBxIcrFQx2pgi0xkhP3+FrjhBoT3Ba7SE2WCDUnUlf6jzYnSIxWumZFR8uEe0v4K50cVLuUHCJq84E/tbot0SMggf5OsxNTjeTaCtVtCjzMInsb8mc9CaegYk+wETuYUhAIVr3Noe4ErLC+hvexlDOI42CEZDYL4SkcEosx09t7GWq2M8+63JHrgYHIYhPwZRlNSSWHuafKhzqzXAzflM7MXHCaM5rff3Znq1p3ozlzKoLmallCiX/spMcZx+65Lo30wxJExYxningKrV0CTuJOae4q9SGuRUCUt0LFcV4AbnVl+bKsDl3l7uIi5OoiF/WB0rjsbpPFnsaA4VhJIab7GKB2+yWFQqwMxNu5hNyCcVRsSXfVX0qvCReCotnPil+/wAlpQH1q1uPFAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image lazyload\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;\\\"\\n        alt=\\\"Preview of mongo shell output\\\"\\n        title=\\\"\\\"\\n        data-src=\\\"/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-e8b1e.png\\\"\\n        data-srcset=\\\"/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-d71f9.png 161w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-68490.png 323w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-e8b1e.png 645w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-941b7.png 968w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-abcde.png 1290w,\\n/static/mongo-shell-screenshot-64bfee243c8a02b3e60e1977d7d0a8c9-baabe.png 1614w\\\"\\n        sizes=\\\"(max-width: 645px) 100vw, 645px\\\"\\n      />\\n    </span>\\n  </span>\\n  </p>\\n<h3 id=\\\"setup-mongo-cli-tools\\\"><a href=\\\"#setup-mongo-cli-tools\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Setup mongo CLI tools</h3>\\n<h4 id=\\\"using-brew--osx\\\"><a href=\\\"#using-brew--osx\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Using brew &#x26; OSX</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">brew tap mongodb/brew\\nbrew install mongodb-community-shell</code></pre>\\n      </div>\\n<h2 id=\\\"mysql-server\\\"><a href=\\\"#mysql-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Mysql Server</h2>\\n<blockquote>\\n<p><strong>WARNING:</strong> CHANGE THE PASSWORD IN <code class=\\\"language-text\\\">MYSQL_ROOT_PASSWORD</code> BELOW.</p>\\n</blockquote>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">mkdir -p $HOME/.mysql\\n\\ndocker run -d \\\\\\n  -v $HOME/.mysql:/var/lib/mysql \\\\\\n  -p 127.0.0.1:3306:3306 \\\\\\n  --name mysql-$USER \\\\\\n  -e MYSQL_DATABASE=$USER \\\\\\n  -e MYSQL_ROOT_HOST=&#39;172.*.*.*&#39; \\\\\\n  -e MYSQL_ROOT_PASSWORD=&#39;p@ssw0rd&#39; \\\\\\n  mysql/mysql-server:8</code></pre>\\n      </div>\\n<h2 id=\\\"elasticsearch-server\\\"><a href=\\\"#elasticsearch-server\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>ElasticSearch Server</h2>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">mkdir -p $HOME/.elastic\\n\\ndocker run -d \\\\\\n  --name elastic \\\\\\n  -p 127.0.0.1:9200:9200 \\\\\\n  -p 127.0.0.1:9300:9300 \\\\\\n  -v $HOME/.elastic:/data \\\\\\n  elasticsearch bash -c &#39;elasticsearch --cluster.name elastic_cluster --node.name elastic01 --path.data /data/elastic-data --path.logs /data/elastic-logs &#39;</code></pre>\\n      </div>\\n<h4 id=\\\"security-notes\\\"><a href=\\\"#security-notes\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Security Notes</h4>\\n<blockquote>\\n<p><strong>NOTE:</strong> the <code class=\\\"language-text\\\">-p 127.0.0.1:27017:27017</code>-style port option prevents access to your instance except from the docker server’s localhost network.\\nTo ‘publish’ the exposed ports, remove the local IP address prefix to allow external access: <code class=\\\"language-text\\\">-p 27017:27017</code>. <strong>Make sure you have taken necessary security precautions.</strong></p>\\n</blockquote>\\n<p><strong>Recommended:</strong> Always use a port scanning tool (like nmap/masscan) to verify your network configuration (from separate system on another network.)</p>\\n<blockquote>\\n<p>Now that you have the commands to start your database servers, the next step is to package up your application as a docker image. Part 2 continued below:</p>\\n</blockquote>\\n<h1 id=\\\"packaging-a-nodejs-web-app\\\"><a href=\\\"#packaging-a-nodejs-web-app\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Packaging a NodeJS Web App</h1>\\n<ol>\\n<li>Add a blank file named <code class=\\\"language-text\\\">Dockerfile</code> in your project root.</li>\\n<li><em>(Optional, Recommended)</em> Add a <code class=\\\"language-text\\\">.dockerignore</code> using .gitignore rules to exclude large non-essential paths. By default all project files are included.</li>\\n</ol>\\n<h3 id=\\\"create-a-dockerfile-in-your-apps-root\\\"><a href=\\\"#create-a-dockerfile-in-your-apps-root\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Create a <code class=\\\"language-text\\\">Dockerfile</code> in your apps root</h3>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"dockerfile\\\">\\n      <pre class=\\\"language-dockerfile\\\"><code class=\\\"language-dockerfile\\\"># Example for NodeJS\\nFROM node:12\\nEXPOSE [3000]\\nCOPY . /app/\\nWORKDIR /app\\nRUN apt-get update &amp;&amp; apt-get dist-upgrade -yqq\\nRUN [&quot;npm&quot;, &quot;install&quot;]\\n\\n# Overridable Command\\nCMD [&quot;npm&quot;, &quot;start&quot;]</code></pre>\\n      </div>\\n<p>It’s easier to show how to start using the Dockerfile and demonstrate the results via console (see commands below).</p>\\n<p>In terminal, <code class=\\\"language-text\\\">cd</code> to your project folder and run the following <code class=\\\"language-text\\\">build</code> command <em>everytime</em> you deploy changes - or want to change/upgrade OS or Env config)</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker build -t app-name-here .</code></pre>\\n      </div>\\n<!-- \\n#### Docker Install\\n\\nIf you don't have Docker installed, use the following command to install on Linux or macOS:\\n\\n```sh\\ncurl -sSL https://get.docker.com/ | sh\\n``` -->\\n<h3 id=\\\"key-docker-commands-reference\\\"><a href=\\\"#key-docker-commands-reference\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Key Docker Commands Reference</h3>\\n<h4 id=\\\"build-docker-image\\\"><a href=\\\"#build-docker-image\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Build Docker Image</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker build -t app-name-here .</code></pre>\\n      </div>\\n<h4 id=\\\"createrun-web-app-w-links-to-db-servers\\\"><a href=\\\"#createrun-web-app-w-links-to-db-servers\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Create/Run Web App w/ Links to DB Servers</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker run -d --name webapp01 -p 3000:3000 --link mongo:mongo --link elastic:elastic app-name-here</code></pre>\\n      </div>\\n<h4 id=\\\"run-interactively-non-daemon-in-terminal\\\"><a href=\\\"#run-interactively-non-daemon-in-terminal\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Run Interactively (non-daemon, in terminal)</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\">docker run -it --name webapp01 -p 3000:3000 --link mongo:mongo --link elastic:elastic app-name-here bash</code></pre>\\n      </div>\\n<h4 id=\\\"delete-container-instance-or-image\\\"><a href=\\\"#delete-container-instance-or-image\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Delete Container Instance or Image</h4>\\n<blockquote>\\n<p>Important: Any data not stored on a mounted volume path will be lost!!</p>\\n</blockquote>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"sh\\\">\\n      <pre class=\\\"language-sh\\\"><code class=\\\"language-sh\\\"># Delete Image\\ndocker rmi -f app-name-here\\ndocker rm -f webapp01\\n# now re-run your `docker run...` from ^^^\\n# So for example, let&#39;s kill your db instances above, run: ( start with something like `docker stop {mongo,elastic}` )\\ndocker rm -f mongo elastic</code></pre>\\n      </div>\\n<!--\\n\\n## Optional Config & Monitoring Tools\\n\\n```sh\\n# Debian/BSD Requirements / Updates + monitoring tools: atop & htop\\napt-get update && apt-get install -y vim-nox git-core curl atop htop build-essential libssl-dev linux-image-amd64 linux-headers-amd64 sudo\\n\\n# OSX, Debian & RHEL: Host OS Tuning\\nsysctl -w vm.max_map_count=262144\\n\\n# Updates Profile init scripts before appending new scripts below\\nmkdir ~/backups\\ncp ~/.bash* ~/backups/\\n\\n# Debian/BSD:  Append Shell Environment Shortcuts + XTERM Colors\\ncurl -o- https://raw.githubusercontent.com/justsml/system-setup-tools/master/modules/vim-update.sh | bash\\n\\ncurl -sSL https://raw.githubusercontent.com/justsml/system-setup-tools/master/home-scripts/.bashrc >> ~/.bashrc\\ncurl -sSL https://raw.githubusercontent.com/justsml/system-setup-tools/master/home-scripts/.bash_aliases >> ~/.bash_aliases\\n\\n# Read into current shell (login steps already missed the aliases file)\\nsource ~/.bashrc\\n\\n# Docker pre reqs\\n# sudo apt-get install -y linux-image-virtual linux-image-extra-virtual\\n```\\n\\n> Only for SELinux Enabled Systems\\n\\n```sh\\n# SELinux fixes (optional)\\n# chcon -Rt svirt_sandbox_file_t /mongodb\\n# chcon -Rt svirt_sandbox_file_t /elastic\\n```\\n\\n-->\",\"wordCount\":{\"paragraphs\":53,\"sentences\":64,\"words\":505},\"fields\":{\"slug\":\"/docker-server-setup-notes/\",\"prefix\":\"2015-04-06\"},\"frontmatter\":{\"title\":\"Docker Server Setup\",\"subTitle\":\"Start Database Servers w/ single commands\",\"category\":\"docker\",\"relativePath\":\"/content/posts/2015-04-06--docker-server-setup-notes/index.md\",\"tags\":[\"devops\",\"docker\",\"server\",\"postgres\",\"mysql\",\"mongodb\",\"elasticsearch\",\"setup\",\"shell script\"],\"date\":\"2015-04-06T00:00:00.000Z\",\"modified\":\"2019-12-01T00:00:00.000Z\",\"cover\":{\"childImageSharp\":{\"resolutions\":{\"width\":220,\"height\":220,\"src\":\"/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-bc901.jpg\",\"srcSet\":\"/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-bc901.jpg 1x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-39e82.jpg 1.5x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-a8256.jpg 2x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-ef5e1.jpg 3x\",\"srcWebp\":\"/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-ec1cf.webp\",\"srcSetWebp\":\"/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-ec1cf.webp 1x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-c5012.webp 1.5x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-6ab8f.webp 2x,\\n/static/markus-spiske-193031-unsplash-7d524b95e3176ecd256cfe6a018e1605-f9a43.webp 3x\"}}}}},\"author\":{\"id\":\"/Users/danlevy/code/oss/dans-blog/content/parts/author.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>Dan Levy is an accomplished programmer, teacher, speaker, cat dad and writer.\\n<br /><br /></p>\\n<p>Dan’s Open Source documentation and related writing is relied on by countless developers who use the <a href=\\\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\\\">Mozilla Developer Network</a> site daily.\\n<br /><br /></p>\\n<p>His contributions span dozens of well-known projects, including <a href=\\\"https://github.com/nodejs/nodejs.org\\\">NodeJS</a>, <a href=\\\"https://github.com/moby/moby\\\">Docker</a>, <a href=\\\"https://github.com/ReactTraining/react-router/\\\">React Router</a>, <a href=\\\"https://github.com/gatsbyjs/gatsby\\\">GatsbyJS</a>, <a href=\\\"https://github.com/Angular/Angular\\\">Angular</a>, <a href=\\\"https://github.com/petkaantonov/bluebird\\\">Bluebird</a>, <a href=\\\"https://github.com/lodash/lodash\\\">Lodash</a>, <a href=\\\"https://github.com/rancher/rancher\\\">Rancher</a>, <a href=\\\"https://github.com/minio/minio\\\">Minio</a>, <a href=\\\"https://github.com/lord/slate\\\">Slate</a>, <a href=\\\"https://github.com/ReactiveX/IxJS\\\">IxJS</a>, and <a href=\\\"https://github.com/functional-promises/functional-promises\\\">Functional Promises</a>.\\n<br /><br /></p>\\n<p>Feel free to <a href=\\\"https://calendly.com/danlevy/\\\">grab a spot on Dan’s calendar</a>, or reach out via <a href=\\\"https://twitter.com/justsml/\\\">Twitter DMs</a> or <a href=\\\"/contact/\\\">the contact form</a>.</p>\"},\"footnote\":{\"id\":\"/Users/danlevy/code/oss/dans-blog/content/parts/footnote.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>Unless otherwise noted, copyright ©2014-2021 Dan Levy.</p>\\n<ul>\\n<li>Photos by <a href=\\\"https://unsplash.com\\\">unsplash.com</a></li>\\n</ul>\"},\"site\":{\"siteMetadata\":{\"facebook\":{\"appId\":\"\"}}},\"allTags\":{\"group\":[{\"fieldValue\":\"ai\",\"totalCount\":1},{\"fieldValue\":\"amazon-web-services\",\"totalCount\":1},{\"fieldValue\":\"angularjs\",\"totalCount\":2},{\"fieldValue\":\"api-keys\",\"totalCount\":2},{\"fieldValue\":\"architecture\",\"totalCount\":1},{\"fieldValue\":\"artificial intelligence\",\"totalCount\":1},{\"fieldValue\":\"async\",\"totalCount\":5},{\"fieldValue\":\"async-await\",\"totalCount\":1},{\"fieldValue\":\"await\",\"totalCount\":1},{\"fieldValue\":\"azure\",\"totalCount\":1},{\"fieldValue\":\"benchmarks\",\"totalCount\":1},{\"fieldValue\":\"boot2docker\",\"totalCount\":1},{\"fieldValue\":\"challenge\",\"totalCount\":1},{\"fieldValue\":\"cloud\",\"totalCount\":1},{\"fieldValue\":\"collaborative-culture\",\"totalCount\":1},{\"fieldValue\":\"composition\",\"totalCount\":4},{\"fieldValue\":\"culture\",\"totalCount\":1},{\"fieldValue\":\"date\",\"totalCount\":1},{\"fieldValue\":\"date class\",\"totalCount\":1},{\"fieldValue\":\"debugging\",\"totalCount\":1},{\"fieldValue\":\"design\",\"totalCount\":1},{\"fieldValue\":\"development\",\"totalCount\":2},{\"fieldValue\":\"devops\",\"totalCount\":5},{\"fieldValue\":\"digital-ocean\",\"totalCount\":1},{\"fieldValue\":\"docker\",\"totalCount\":4},{\"fieldValue\":\"dos\",\"totalCount\":1},{\"fieldValue\":\"dotenv\",\"totalCount\":1},{\"fieldValue\":\"elasticsearch\",\"totalCount\":1},{\"fieldValue\":\"errors\",\"totalCount\":2},{\"fieldValue\":\"fails\",\"totalCount\":1},{\"fieldValue\":\"functional river\",\"totalCount\":1},{\"fieldValue\":\"go\",\"totalCount\":1},{\"fieldValue\":\"google-cloud-engine\",\"totalCount\":1},{\"fieldValue\":\"gotchas\",\"totalCount\":1},{\"fieldValue\":\"growth\",\"totalCount\":1},{\"fieldValue\":\"guides\",\"totalCount\":1},{\"fieldValue\":\"haskell\",\"totalCount\":1},{\"fieldValue\":\"io\",\"totalCount\":1},{\"fieldValue\":\"javascript\",\"totalCount\":11},{\"fieldValue\":\"json-web-tokens\",\"totalCount\":1},{\"fieldValue\":\"languages\",\"totalCount\":1},{\"fieldValue\":\"lua\",\"totalCount\":1},{\"fieldValue\":\"models\",\"totalCount\":1},{\"fieldValue\":\"mongodb\",\"totalCount\":2},{\"fieldValue\":\"mysql\",\"totalCount\":1},{\"fieldValue\":\"naming\",\"totalCount\":1},{\"fieldValue\":\"nodejs\",\"totalCount\":3},{\"fieldValue\":\"opinion\",\"totalCount\":1},{\"fieldValue\":\"organization\",\"totalCount\":2},{\"fieldValue\":\"ovh.net\",\"totalCount\":1},{\"fieldValue\":\"packet.net\",\"totalCount\":1},{\"fieldValue\":\"patterns\",\"totalCount\":7},{\"fieldValue\":\"performance\",\"totalCount\":4},{\"fieldValue\":\"personal-development\",\"totalCount\":1},{\"fieldValue\":\"postgres\",\"totalCount\":1},{\"fieldValue\":\"programming\",\"totalCount\":10},{\"fieldValue\":\"promises\",\"totalCount\":8},{\"fieldValue\":\"python\",\"totalCount\":2},{\"fieldValue\":\"quiz\",\"totalCount\":2},{\"fieldValue\":\"regex\",\"totalCount\":1},{\"fieldValue\":\"remote-exploit\",\"totalCount\":1},{\"fieldValue\":\"resources\",\"totalCount\":1},{\"fieldValue\":\"rust\",\"totalCount\":1},{\"fieldValue\":\"scala\",\"totalCount\":1},{\"fieldValue\":\"scaling\",\"totalCount\":1},{\"fieldValue\":\"secrets\",\"totalCount\":2},{\"fieldValue\":\"security\",\"totalCount\":4},{\"fieldValue\":\"self-driving cars\",\"totalCount\":1},{\"fieldValue\":\"server\",\"totalCount\":1},{\"fieldValue\":\"servers\",\"totalCount\":2},{\"fieldValue\":\"setup\",\"totalCount\":1},{\"fieldValue\":\"shell script\",\"totalCount\":1},{\"fieldValue\":\"smalltalk\",\"totalCount\":1},{\"fieldValue\":\"source code\",\"totalCount\":3},{\"fieldValue\":\"ssd\",\"totalCount\":1},{\"fieldValue\":\"teams\",\"totalCount\":1},{\"fieldValue\":\"tokens\",\"totalCount\":2},{\"fieldValue\":\"tuning\",\"totalCount\":1},{\"fieldValue\":\"visualizing\",\"totalCount\":1}]}},\"pathContext\":{\"slug\":\"/docker-server-setup-notes/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/docker-server-setup-notes.json\n// module id = 1272\n// module chunks = 64261598274731"],"sourceRoot":""}